(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1CBE":function(e,t,a){},ngVT:function(e,t,a){"use strict";a.r(t);var r=a("JT98"),o=(a("yWgo"),a("xdbn")),i={name:"essentialinfo",mixins:[a("DWNM").a],data:function(){return{infoFormData:{name:"",sex:"",phone:"",Idtype:"居民身份证",Idcard:"",itemsId:""},ruleValidate:{name:[{required:!0,message:"请填写申请人姓名",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],phone:[{required:!0,message:"请填写联系号码",trigger:"blur"},{validator:function(e,t,a,o,i){var n=[];Object(r.h)(t)?a():n.push("请输入正确联系号码"),a(n)},trigger:"blur"}],Idcard:[{required:!0,message:"请填写身份证号",trigger:"blur"},{validator:function(e,t,a,o,i){var n=[];Object(r.f)(t)||n.push("请输入正确身份证号"),a(n)},trigger:"blur"}]}}},props:{itemId:String},computed:{_Idcard:function(){return this.infoFormData.Idcard}},watch:{_Idcard:function(e,t){if(18==e.length){var a=Object(r.g)(e);this.infoFormData.sex="1"==a.sex?"男":"女"}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a=t.infoFormData;t.hint.showLoading({msg:"保存中...",timeout:3e4,timeoutMsg:"服务器异常",btnOkText:"我知道了"}),o.a.addDatum(a).then(function(e){console.log("ressssssssssssss",e),1===e.code&&(t.hint.clearTimer(),t.$emit("alertMsg",{head:"温馨提示",msg:"保存成功",itemId:t.itemId}))}).catch(function(e){t.hint.timeoutEnd(),t.$alert({head:"温馨提示",msg:"保存失败"})})}else t.$alert({head:"温馨提示",msg:"请先填写完整表单"})})}},created:function(){var e=this;this.infoFormData.itemsId=this.itemId,console.log(this.itemId,"info----------------");var t={businessCode:this.$dgRouter.params.businessCode,itemsId:this.itemId};o.a.backDatum(t).then(function(t){1===t.code?""!=t.datum.content&&(e.infoFormData=t.datum.content,e.$emit("alertMsg",{itemId:e.itemId})):e.$emit("alertMsg",{head:"温馨提示",msg:"服务器异常1"})}).catch(function(t){e.$emit("alertMsg",{head:"温馨提示",msg:"服务器异常2"})})}},n=(a("whWf"),a("KHd+")),s=Object(n.a)(i,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("gd-form",{ref:"infoFormData",attrs:{model:e.infoFormData,rules:e.ruleValidate}},[a("gd-form-item",{attrs:{label:"申请人姓名",required:"",prop:"name"}},[a("gd-input",{attrs:{placeholder:""},model:{value:e.infoFormData.name,callback:function(t){e.$set(e.infoFormData,"name",t)},expression:"infoFormData.name"}})],1),a("gd-form-item",{attrs:{label:"证件类型",required:"",prop:"Idtype"}},[a("gd-select",{attrs:{disabled:"",placeholder:"请选择"},model:{value:e.infoFormData.Idtype,callback:function(t){e.$set(e.infoFormData,"Idtype",t)},expression:"infoFormData.Idtype"}},[a("gd-option",{attrs:{value:"居民身份证"}},[e._v("居民身份证")])],1)],1),a("gd-form-item",{attrs:{label:"身份证号",required:"",prop:"Idcard"}},[a("gd-input",{model:{value:e.infoFormData.Idcard,callback:function(t){e.$set(e.infoFormData,"Idcard",t)},expression:"infoFormData.Idcard"}})],1),a("gd-form-item",[a("gd-form-item",{attrs:{label:"性别",required:"",prop:"sex"}},[a("gd-select",{attrs:{placeholder:"请选择"},model:{value:e.infoFormData.sex,callback:function(t){e.$set(e.infoFormData,"sex",t)},expression:"infoFormData.sex"}},[a("gd-option",{attrs:{value:"男"}},[e._v("男")]),a("gd-option",{attrs:{value:"女"}},[e._v("女")])],1)],1),a("gd-form-item",{attrs:{label:"联系电话",required:"",prop:"phone"}},[a("gd-input",{attrs:{type:"number",placeholder:""},model:{value:e.infoFormData.phone,callback:function(t){e.$set(e.infoFormData,"phone",t)},expression:"infoFormData.phone"}})],1),a("gd-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handleSubmit("infoFormData")}}},[e._v("保存")])],1)],1)],1)},[],!1,null,"49700d82",null);t.default=s.exports},whWf:function(e,t,a){"use strict";var r=a("1CBE");a.n(r).a}}]);