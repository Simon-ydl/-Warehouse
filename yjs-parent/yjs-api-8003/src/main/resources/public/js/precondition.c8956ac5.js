(window.webpackJsonp=window.webpackJsonp||[]).push([[8,17],{"+eJb":function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var i=n("o75L"),r=n("+s51"),s=n("yWgo"),a={allow:[i.a.getAllOnethingList,i.a.findAllByUseridcode,i.a.findUserInfoByToken],login:[i.a.fileDelete,i.a.fileload,i.a.getFiles,i.a.infomsg,i.a.getResult,i.a.addHousehold,i.a.addDatum,i.a.addSelf]},o={allow:[r.a.index],login:[r.a.user,r.a.precondition,r.a.situation,r.a.upmaterial,r.a.infowrite,r.a.benkeruhu,r.a.feedback]},c=(r.a.index,r.a.user,r.a.procedure,r.a.upmaterial,r.a.infowrite,r.a.benkeruhu,r.a.feedback,function(e,t){if(a.allow.includes(e))return!0;if(a.login.includes(e)){var n=Object(s.b)();if(n&&n.tokenCode)return!0;var i=t.params.tokenCode;return i?(Object(s.f)({tokenCode:i}),!0):(t.to(r.a.gdGovLogin,{},!1),!1)}return!0}),u=function(e,t){if(console.dev("cgi",e),o.allow.includes(e))return!0;if(console.dev("页面是否需要登录",o.login.includes(e)),o.login.includes(e)){var n=Object(s.b)();if(n&&n.tokenCode)return!0;var i=t.params.tokenCode;return i?(Object(s.f)({tokenCode:i}),!0):(console.dev("跳转登录页面"),t.to(r.a.gdGovLogin,{},!1),!1)}return!0}},"+s51":function(e,t,n){"use strict";var i=n("Ub41").a?"http://127.0.0.1:8080/local":window.location.origin,r=window.location.origin+window.location.pathname;function s(e,t){return e.endsWith("/")?e+t:e+"/"+t}var a=s(i,"index.html"),o=s(i,"procedure.html"),c=s(i,"situation.html"),u=s(i,"upmaterial.html"),l=s(i,"infowrite.html"),d=s(i,"benkeruhu.html"),h=s(i,"feedback.html"),f=s(i,"user.html"),m=s(i,"precondition.html"),p="http://tyrztest.gd.gov.cn/tif/sso/connect/page/oauth2/authorize?client_secret=123qwe&client_id=gdbs_66&service=initService&scope=all&response_type=code&redirect_uri=http%3A%2F%2Ftry.dg.gov.cn%2Fhtml%2Ftyrz_redirect_web.html?redirectUrl="+encodeURIComponent(encodeURIComponent("".concat(a,"?isTransfer=1")));t.a={localUrl:i,currentUrl:r,gdGovLogin:p,index:a,procedure:o,situation:c,upmaterial:u,infowrite:l,benkeruhu:d,feedback:h,user:f,precondition:m}},"4BKs":function(e,t,n){"use strict";var i=n("ctIS");n.n(i).a},"4eBD":function(e,t,n){"use strict";var i=n("CrG7");n.n(i).a},5:function(e,t,n){e.exports=n("IxNn")},"7qKF":function(e,t,n){},CeRN:function(e,t,n){"use strict";var i=n("DWNM"),r=n("+s51"),s=(n("hlQx"),n("yWgo")),a=n("o6Wo"),o={mixins:[i.a],props:{subtitle:{type:String,default:"东莞市一件事主题式申办"},userPage:Boolean,isLogin:Boolean},data:function(){return{tokenCode:"",userName:"",certId:"",phoneNum:"",OnlyUserId:""}},created:function(){this.getUserInfo()},methods:{handleGdGov:function(){window.open("http://www.gd.gov.cn/","_blank")},handleLogin:function(){this.$dgRouter.to(r.a.gdGovLogin,{},!1)},handleTitle:function(){this.userPage?this.$dgRouter.to("index"):this.$dgRouter.to("user")},getUserInfo:function(){var e=this,t=Object(s.b)();t?(console.dev("userInfo ==>",t),this.tokenCode=t.tokenCode,this.userName=t.userName,this.certId=t.certId,this.phoneNum=t.phoneNum,this.OnlyUserId=t.OnlyUserId):a.a.onSetUserInfo(function(){console.dev("接收到通知事件，将获取本地的UserInfo"),e.getUserInfo()})}},computed:{userTitle:function(){return this.userPage?"返回首页":"用户中心 (个人)"}},beforeDestroy:function(){Bus.$off("getUserInfo")}},c=(n("4eBD"),n("KHd+")),u=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("gd-biz-layout",{staticClass:"dg-layout"},[n("div",{attrs:{slot:"header"},slot:"header"},[n("gd-biz-header",{attrs:{subtitle:e.subtitle,"search-hidden":!0,"nav-data":[]}},[e.tokenCode?n("div",{attrs:{slot:"userinfo"},slot:"userinfo"},[n("span",{staticClass:"dg-layout-title",on:{click:e.handleTitle}},[e._v(e._s(e.userTitle))]),n("span",{staticClass:"dg-layout-line"}),n("span",{staticClass:"dg-layout-info"},[e._v(e._s(e.userName))])]):n("div",{attrs:{slot:"userinfo"},slot:"userinfo"},[n("span",{staticClass:"dg-layout-title",on:{click:e.handleGdGov}},[e._v("广东省人民政府")]),n("span",{staticClass:"dg-layout-line"}),n("span",{staticClass:"dg-layout-info",on:{click:e.handleLogin}},[e._v("登录")])])])],1),e._t("default")],2)},[],!1,null,null,null);t.a=u.exports},CrG7:function(e,t,n){},Czeu:function(e,t,n){"use strict";var i=n("Ky6a");n.n(i).a},DWNM:function(e,t,n){"use strict";var i=n("lwsE"),r=n.n(i),s=n("W8MJ"),a=n.n(s),o=function(){function e(t){r()(this,e),this.ctx=t,this.info={title:"",timeoutMsg:"网络请求超时",btnOkText:"我知道了",btnCancelText:"",withMask:!0,onOkClick:function(){},onCancelClick:function(){}}}return a()(e,[{key:"showToast",value:function(e,t,n){this.ctx.$toast[e]({msg:t,timeout:n||4e3})}},{key:"Success",value:function(e,t){this.showToast("success",e,t)}},{key:"Error",value:function(e,t){this.showToast("error",e,t)}},{key:"Warning",value:function(e,t){this.showToast("warning",e,t)}},{key:"showLoading",value:function(e){var t=this,n=e.msg,i=e.openTimeout,r=void 0===i||i,s=e.timeout,a=void 0===s?3e4:s,o=e.timeoutMsg,c=void 0===o?"网络请求超时":o,u=e.title,l=void 0===u?"":u,d=e.btnOkText,h=void 0===d?"我知道了":d,f=e.onOkClick,m=void 0===f?function(){}:f,p=e.btnCancelText,v=void 0===p?"":p,g=e.onCancelClick,y=void 0===g?function(){}:g;(a=a||3e4)<3e4&&console.warn("不推荐将超时时间设为30秒以下"),this.ctx.$loading.show(n||""),this.info={title:l,timeoutMsg:c,btnOkText:h,withMask:!0,onOkClick:m,btnCancelText:v,onCancelClick:y},r&&(this.timer=setTimeout(function(){t.ctx.$loading.hide(),t.timeoutEnd()},a))}},{key:"timeoutEnd",value:function(){var e=this.info,t=e.title,n=e.timeoutMsg,i=e.btnOkText,r=e.btnCancelText,s=e.withMask,a=e.onOkClick,o=e.onCancelClick;this.clearTimer(),r?this.ctx.$confirm({head:t,msg:n,btnOkText:i,btnCancelText:r,withMask:s,onOkClick:a,onCancelClick:o}):this.ctx.$alert({head:t,msg:n,btnOkText:i,withMask:s,onOkClick:a})}},{key:"clearTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.ctx.$loading.hide())}}]),e}(),c=n("Ub41"),u=n("yWgo"),l=n("+eJb");t.a={beforeCreate:function(){Object(u.g)(),console.dev=function(e){if(c.a){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(t=console).log.apply(t,["开发环境(dev):",e].concat(i))}},this.$dgRouter=Object(u.d)(),this.hint=new o(this);var e=window.location.origin+window.location.pathname;Object(l.b)(e,this.$dgRouter),this._beforeCreate&&this._beforeCreate()}}},EcFW:function(e,t,n){"use strict";n.r(t);var i={name:"dg-title",props:{type:{type:String,default:"main"},size:{type:Number,default:42}},computed:{_class:function(){return[{"dg-mainTitle":"main"===this.type},{"dg-subTitle":"sub"===this.type},{"dg-viceTitle":"vice"===this.type}]}}},r=(n("zzwz"),n("KHd+")),s=Object(r.a)(i,function(){var e=this.$createElement;return(this._self._c||e)("div",{class:this._class},[this._t("default")],2)},[],!1,null,null,null);t.default=s.exports},F8Vb:function(e,t,n){"use strict";var i=n("f2I4");n.n(i).a},IxNn:function(e,t,n){"use strict";n.r(t);var i=n("Kw5r"),r=n("lSNA"),s=n.n(r),a=n("DWNM"),o=n("CeRN"),c=n("Ri02"),u=n("EcFW"),l=n("cQCq"),d=n("RIqP"),h=n.n(d),f={name:"dg-precondition",props:{Items:Object,keys:{type:String,default:"0"},isMain:Boolean},data:function(){return{currentId:"",currentArr:[],childItems:null,childsItems:null,iKey:"",reFresh:!0}},mounted:function(){this.Items.sfbx&&"1"===this.Items.sfbx&&!this.currentId&&this.$store.commit("addTopReqireds",{key:this.keys,pid:this.Items.id})},computed:{_class:function(){return"1"===this.Items.sfbx?"title reqired":"title"}},methods:{addToCurrentArr:function(e,t){var n=this;this.iKey="".concat(this.keys,"#!").concat(t),this.currentArr.includes(e)?(this.$store.commit("removeItemsKeys",{key:this.iKey}),this.currentArr=this.currentArr.filter(function(t){return t!==e})):this.currentArr.push(e),this.currentArr.length>0&&"1"===this.Items.sfbx&&this.$store.commit("changesReq",{key:this.keys,pid:this.Items.id});var i=[];this.currentArr.map(function(e){var r=n.getCurrentItmes(e,t);i=[].concat(h()(i),h()(r))}),this.childsItems=i},getCurrentItmes:function(e,t){var n=this,i=[];return this.Items.childs.map(function(t){if(e===t.id&&(t.hasOwnProperty("data")&&n.$store.commit("addToPrecondition",{key:n.iKey,value:t.data,type:1}),t.childs.length>0)){i=t.childs;var r=t.childs.reduce(function(e,t){return t.hasOwnProperty("data")&&e.push(t.data),e},[]);r.length>0&&n.$store.commit("addToPrecondition",{key:n.iKey,value:r,type:1})}}),i},isEnd:function(){"1"===this.childItems.sfzz?(this.$alert({head:"注意",msg:"该条件不允许申请"}),this.$store.commit("p_changeEnd",{key:this.keys,value:!0})):this.$store.commit("p_changeEnd",{key:this.keys,value:!1})},getPrecondition:function(e){if(this.childItems=this.Items.childs.find(function(t){return t.id===e}),this.childItems)if(this.isEnd(),this.childItems.hasOwnProperty("data"))this.$store.commit("addToPrecondition",{key:this.keys,value:this.childItems.data});else{if(this.childItems.childs.length>0){var t=this.childItems.childs.reduce(function(e,t){return t.hasOwnProperty("data")&&e.push(t.data),e},[]);if(t.length>0)return void this.$store.commit("addToPrecondition",{key:this.keys,value:t})}this.$store.commit("removeItems",{key:this.keys})}},reFreshChilds:function(){var e=this;this.reFresh=!1,this.$nextTick(function(){e.reFresh=!0})},hasReqired:function(e){e&&"1"===this.Items.sfbx&&this.$store.commit("changepReq",{key:this.keys,pid:this.Items.id})}},watch:{currentId:function(e,t){e&&(this.hasReqired(e),t&&e!==t&&this.reFreshChilds(),this.getPrecondition(e))}}},m=(n("F8Vb"),n("KHd+")),p=Object(m.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dgPrecondition"},[e.reFresh&&"1"===e.Items.sjlx?n("div",{staticClass:"sjlx1"},[n("p",{class:e._class},[e._v(e._s(e.Items.name))]),"0"===e.Items.sfdx?n("div",{staticClass:"sfdx"},e._l(e.Items.childs,function(t,i){return n("div",{key:i,staticClass:"precondition-item"},[n("gd-radio",{staticClass:"choice",attrs:{value:t.id},model:{value:e.currentId,callback:function(t){e.currentId=t},expression:"currentId"}},[e._v(e._s(t.name))])],1)}),0):e._e(),"1"===e.Items.sfdx?n("div",{staticClass:"sfdx"},e._l(e.Items.childs,function(t,i){return n("div",{key:i,staticClass:"precondition-item"},[n("gd-checkbox",{staticClass:"choice",attrs:{value:t.id},on:{change:function(n){return e.addToCurrentArr(t.id,i)}}},[e._v(e._s(t.name))])],1)}),0):e._e()]):e._e(),e.childItems&&e.reFresh?n("div",e._l(e.childItems.childs,function(t,i){return n("div",{key:i,staticClass:"precondition-item",style:t.data?"display: none;":""},[n("dg-precondition",{attrs:{Items:t,keys:e.keys+"x"+i}})],1)}),0):e._e(),e.childsItems&&e.reFresh?n("div",e._l(e.childsItems,function(t,i){return n("div",{key:i,staticClass:"precondition-item"},[n("dg-precondition",{attrs:{Items:t,keys:e.keys+"#!"+i}})],1)}),0):e._e()])},[],!1,null,null,null).exports,v=n("lwsE"),g=n.n(v),y=n("W8MJ"),b=n.n(y),k=n("dRp0"),O=n("o75L"),w=function(){function e(){g()(this,e)}return b()(e,null,[{key:"getOnethingItem",value:function(e){return k.a.request({url:"".concat(O.a.getOnethingItem,"/").concat(e),method:"GET"})}}]),e}(),I=n("L2JU"),_=n("yWgo");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var C={mixins:[a.a],components:{dgLayout:o.a,dgDefault:c.a,dgTitle:u.default,dgSituation:l.a,dgPrecondition:p},data:function(){return{complete:!1,qxItems:null,list:[{title:"业务选择"},{title:"信息自检"},{title:"信息填写"},{title:"上传材料"},{title:"完成反馈"}]}},created:function(){this.showLoading(),this.initPage()},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach(function(t){s()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},Object(I.b)(["preconditionIds","p_isEnd","classify"])),methods:{showLoading:function(){var e=this;this.hint.showLoading({msg:"加载中...",timeoutMsg:"请求超时",title:"温馨提示",btnOkText:"重试",btnCancelText:"取消",onOkClick:function(){e.showLoading(),e.initPage()}})},initPage:function(){var e=this,t=this.$dgRouter.params.id;w.getOnethingItem(t).then(function(t){var n=t.data;"1"===n.sffqx?e.qxItems=n.situationData[0].childs:e.qxItems=[],e.complete=!0,e.hint.clearTimer()}).catch(function(t){e.complete=!0,e.hint.timeoutEnd()})},isAllow:function(){if(this.p_isEnd)return this.$alert({msg:"该条件不允许申请"}),!1;var e=this.$store.state.precondition.p_reqireds,t=Object.keys(e).reduce(function(t,n){return t.push(e[n]),t},[]).find(function(e){return!1===e.selected});return!t||(this.$alert({msg:"请先完成本页面必选条件！"}),!1)},nextPage:function(){this.isAllow()&&(Object(_.e)("classify",this.classify,120),this.$dgRouter.to("situation",{id:this.$dgRouter.params.id,preconditionIds:this.preconditionIds.join(",")}))}}},j=(n("sEwH"),Object(m.a)(C,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.complete?n("dg-layout",{attrs:{subtitle:"办理事项"}},[e.qxItems?n("div",{staticClass:"precondition container"},[n("div",{staticClass:"main"},[n("gd-steps",{staticStyle:{width:"900px"},attrs:{active:1}},e._l(e.list,function(e,t){return n("gd-step",{key:t,attrs:{title:e.title}})}),1),n("div",{staticClass:"handle-precondition"},[n("dg-title",{attrs:{type:"sub"}},[e._v("前置条件")]),n("h4",{staticClass:"info-reqired"},[e._v("表示为必选条件")]),e._l(e.qxItems,function(e,t){return n("div",{key:e.id},[n("dg-precondition",{attrs:{Items:e,isMain:""}})],1)}),n("div",{staticClass:"nextBtn"},[n("gd-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一步")])],1)],2)],1)]):e._e(),null===e.qxItems?n("div",{staticClass:"container main"},[n("dgDefault",{attrs:{type:"error",tip:"页面飞走了",options:{text:"返回首页",cgi:"index"}}})],1):e._e()]):e._e()},[],!1,null,null,null).exports),P=n("kzom"),S=n.n(P),T=(n("tElv"),n("E2g8")),E=n.n(T),$=n("Q2AE");E.a.polyfill(),i.default.use(S.a),i.default.config.productionTip=!1,j.el="#root",j.mpType="app",j.store=$.a,new i.default(j).$mount();t.default={config:{pages:["^pages/index"],window:{backgroundTextStyle:"light",navigationBarBackgroundColor:"#fff",navigationBarTitleText:"WeChat",navigationBarTextStyle:"black"}}}},JT98:function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"h",function(){return r}),n.d(t,"g",function(){return s}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return l});var i=function(e){if(!/^(11|12|13|14|15|21|22|23|31|32|33|34|35|36|37|41|42|43|44|45|46|50|51|52|53|54|61|62|63|64|65|71|81|82|91)\d{4}(18|19|20)\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(e))return!1;for(var t=e.split(""),n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],i=0,r=0;r<17;r++)i+=t[r]*n[r];return[1,0,"X",9,8,7,6,5,4,3,2][i%11]==t[17]},r=function(e){return!!/^[1][3,4,5,7,8][0-9]{9}$/.test(e)},s=function(e){if(!i(e))return null;var t=e.substring(6,10),n=e.substring(10,12),r=e.substring(12,14),s="".concat(t,"-").concat(n,"-").concat(r),a=parseInt(e.substr(16,1))%2==1?"1":"0",o=new Date,c=o.getMonth()+1,u=o.getDate(),l=o.getFullYear()-t-1;return(n<c||n==c&&r<=u)&&l++,{birth:s,sex:a,age:l}},a=[{name:"汉族",value:"汉族"},{name:"蒙古族",value:"蒙古族"},{name:"回族",value:"回族"},{name:"藏族",value:"藏族"},{name:"维吾尔族",value:"维吾尔族"},{name:"苗族",value:"苗族"},{name:"彝族",value:"彝族"},{name:"壮族",value:"壮族"},{name:"布依族",value:"布依族"},{name:"朝鲜族",value:"朝鲜族"},{name:"满族",value:"满族"},{name:"侗族",value:"侗族"},{name:"瑶族",value:"瑶族"},{name:"白族",value:"白族"},{name:"土家族",value:"土家族"},{name:"哈尼族",value:"哈尼族"},{name:"哈萨克族",value:"哈萨克族"},{name:"傣族",value:"傣族"},{name:"黎族",value:"黎族"},{name:"傈僳族",value:"傈僳族"},{name:"佤族",value:"佤族"},{name:"畲族",value:"畲族"},{name:"高山族",value:"高山族"},{name:"拉祜族",value:"拉祜族"},{name:"水族",value:"水族"},{name:"东乡族",value:"东乡族"},{name:"纳西族",value:"纳西族"},{name:"景颇族",value:"景颇族"},{name:"柯尔克孜族",value:"柯尔克孜族"},{name:"土族",value:"土族"},{name:"达斡尔族",value:"达斡尔族"},{name:"仫佬族",value:"仫佬族"},{name:"羌族",value:"羌族"},{name:"布朗族",value:"布朗族"},{name:"撒拉族",value:"撒拉族"},{name:"毛南族",value:"毛南族"},{name:"仡佬族",value:"仡佬族"},{name:"锡伯族",value:"锡伯族"},{name:"阿昌族",value:"阿昌族"},{name:"普米族",value:"普米族"},{name:"塔吉克族",value:"塔吉克族"},{name:"怒族",value:"怒族"},{name:"乌孜别克族",value:"乌孜别克族"},{name:"俄罗斯族",value:"俄罗斯族"},{name:"鄂温克族",value:"鄂温克族"},{name:"德昂族",value:"德昂族"},{name:"保安族",value:"保安族"},{name:"裕固族",value:"裕固族"},{name:"京族",value:"京族"},{name:"塔塔尔族",value:"塔塔尔族"},{name:"独龙族",value:"独龙族"},{name:"鄂伦春族",value:"鄂伦春族"},{name:"赫哲族",value:"赫哲族"},{name:"门巴族",value:"门巴族"},{name:"珞巴族",value:"珞巴族"},{name:"基诺族",value:"基诺族"},{name:"其他",value:"其他"},{name:"外国血统中国籍人士",value:"外国血统中国籍人士"}],o=[{name:"统一社会信用代码",value:"001"},{name:"其他法人或其他组织有效证件",value:"099"},{name:"居民身份证",value:"111"},{name:"临时居民身份证",value:"112"},{name:"户口簿",value:"113"},{name:"中国人民解放军军官证",value:"114"},{name:"中国人民武装警察部队警官证",value:"115"},{name:"出生医学证明",value:"117"},{name:"中国人民解放军士兵证",value:"118"},{name:"中国人民武装警察部队士兵证",value:"119"},{name:"中国人民解放军文职人员证",value:"120"},{name:"中国人民武装警察部队文职人员证",value:"122"},{name:"居住证",value:"154"},{name:"外交护照",value:"411"},{name:"公务护照",value:"412"},{name:"公务普通护照",value:"413"},{name:"普通护照",value:"414"},{name:"旅行证",value:"415"},{name:"外国人旅行证",value:"418"},{name:"台湾居民来往大陆通行证",value:"511"},{name:"港澳居民来往内地通行证",value:"516"},{name:"外国人永久居留身份证",value:"553"},{name:"外国人临时居住证",value:"554"},{name:"外交人员身份证明",value:"791"},{name:"境外人员身份证明",value:"792"},{name:"驻华机构证明",value:"813"},{name:"营业执照",value:"821"},{name:"律师事务所执业许可证",value:"830"},{name:"其他",value:"999"}],c={1:"自然人",2:"企业法人",3:"事业法人",4:"社会组织法人",5:"非法人企业",6:"行政机关",7:"其他组织"},u={1:"政府部门核发",2:"其他",4:"申请人自备"},l={"东莞市公安局":10,"东莞市人力资源和社会保障局":11}},Ky6a:function(e,t,n){},LwWf:function(e,t,n){e.exports=n.p+"images/error-404.44c03817.png"},Q2AE:function(e,t,n){"use strict";var i=n("Kw5r"),r=n("L2JU"),s=n("lSNA"),a=n.n(s),o=n("RIqP"),c=n.n(o);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={state:{_materials:{},s_reqireds:{},_s_isEnd:{}},getters:{materials:function(e){return Object.keys(e._materials).reduce(function(t,n){return t.push.apply(t,c()(e._materials[n])),t},[]).sort(function(e,t){return e.sort-t.sort})},s_isEnd:function(e){return!!Object.keys(e._s_isEnd).find(function(t){return!0===e._s_isEnd[t]})}},mutations:{addToMaterials:function(e,t){var n=t.key,r=t.value;if(1!==t.type){var s="".concat(n,".*?"),a=l({},e._materials);Object.keys(e._materials).map(function(e){null!==e.match(s)&&delete a[e]}),a[n]=r,i.default.set(e,"_materials",a)}else e._materials[n]=r},removeKeys:function(e,t){var n=t.key,i="".concat(n,".*?"),r=l({},e._materials);Object.keys(e._materials).map(function(e){null!==e.match(i)&&delete r[e]}),e._materials=r},addTosReqireds:function(e,t){var n=t.key,i=t.pid,r=t.name,s="".concat(n,".*?"),a=l({},e.s_reqireds);Object.keys(e.s_reqireds).map(function(e){null!==e.match(s)&&delete a[e]}),a[n]={pid:i,name:r,selected:!1},e.s_reqireds=a},removeMaterials:function(e,t){var n=t.key,r=l({},e._materials);r.hasOwnProperty(n)&&delete r[n],i.default.set(e,"_materials",r)},changesReq:function(e,t){var n=t.key,i=t.pid,r=t.name,s="".concat(n,".*?"),a=l({},e.s_reqireds);Object.keys(e.s_reqireds).map(function(e){null!==e.match(s)&&delete a[e]}),a[n]={pid:i,selected:!0,name:r},e.s_reqireds=a},s_changeEnd:function(e,t){var n=t.key,r=t.value,s=l({},e._s_isEnd);s[n]=r,i.default.set(e,"_s_isEnd",s)}}},h=n("JT98");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){a()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p={_precondition:{},p_reqireds:{},_p_isEnd:{}},v={addToPrecondition:function(e,t){var n=t.key,r=t.value;if(1!==t.type){var s="".concat(n,".*?"),a=m({},e._precondition);Object.keys(e._precondition).map(function(e){null!==e.match(s)&&delete a[e]});var o=m({},e.p_reqireds);Object.keys(e.p_reqireds).map(function(e){null!==e.match(s)&&delete o[e]}),a[n]=r,i.default.set(e,"_precondition",a),i.default.set(e,"p_reqireds",o)}else e._precondition[n]=r},removeItemsKeys:function(){var e="".concat(key,".*?"),t=m({},p._precondition);Object.keys(p._precondition).map(function(n){null!==n.match(e)&&delete t[n]}),p._precondition=t},addTopReqireds:function(e,t){var n=t.key,i=t.pid,r="".concat(n,".*?"),s=m({},e.p_reqireds);Object.keys(e.p_reqireds).map(function(e){null!==e.match(r)&&delete s[e]}),s[n]={pid:i,selected:!1},e.p_reqireds=s},removeItems:function(e,t){var n=t.key,r=m({},e._precondition);r.hasOwnProperty(n)&&delete r[n],i.default.set(e,"_precondition",r)},changepReq:function(e,t){var n=t.key,i=t.pid;e.p_reqireds[n]={pid:i,selected:!0}},p_changeEnd:function(e,t){var n=t.key,r=t.value,s=m({},e._p_isEnd);s[n]=r,i.default.set(e,"_p_isEnd",s)}},g={state:p,getters:{preconditionIds:function(e){return Object.keys(e._precondition).reduce(function(t,n){return t.push.apply(t,c()(e._precondition[n])),t},[]).reduce(function(e,t){return e.push(t.itemId),e},[])},p_isEnd:function(e){return!!Object.keys(e._p_isEnd).find(function(t){return!0===e._p_isEnd[t]})},classify:function(e){return Object.keys(e._precondition).reduce(function(t,n){return t.push.apply(t,c()(e._precondition[n])),t},[]).reduce(function(e,t){return e[t.itemId]=h.a[t.deptName],e},{})}},mutations:v},y={state:{_prefixdata:{}},mutations:{initPrefixData:function(e,t){var n=t.key;e._prefixdata[n]={status:!1,value:[]}},addToPrefixdata:function(e,t){var n=t.key,i=t.status,r=t.value;e._prefixdata[n]={status:i,value:r}}}};i.default.use(r.a);var b=new r.a.Store({modules:{situation:d,precondition:g,prefixdata:y}});t.a=b},Ri02:function(e,t,n){"use strict";var i=n("sxsh"),r=n.n(i),s=n("LwWf"),a=n.n(s),o={mixins:[n("DWNM").a],props:{tip:{type:String,default:"很抱歉，无相关的数据"},type:{type:String,default:"nothing"},options:Object},computed:{_backImg:function(){switch(this.type){case"nothing":return r.a;case"error":return a.a}},_options:function(){return this.options?0===Object.keys(this.options).length?{text:""}:this.options:{text:""}}},methods:{handleBtn:function(){var e=this.options.cgi;e&&this.$dgRouter.to(e)}}},c=(n("Czeu"),n("KHd+")),u=Object(c.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dgDefault"},[n("img",{staticClass:"icon",attrs:{src:e._backImg}}),n("div",{staticClass:"tip"},[e._v(e._s(e.tip))]),e._options.text?n("div",{staticClass:"options"},[n("gd-button",{staticClass:"dgIcon",attrs:{icon:"gd-Icon "+e._options.icon,"suffix-icon":"gd-Icon "+e._options["suffix-icon"],type:"primary",size:"mini"},on:{click:e.handleBtn}},[e._v(e._s(e._options.text))])],1):e._e()])},[],!1,null,null,null);t.a=u.exports},Ub41:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=!1},cQCq:function(e,t,n){"use strict";var i=n("RIqP"),r=n.n(i),s={name:"dg-situation",props:{Items:Object,keys:{type:String,default:"0"},isMain:Boolean},data:function(){return{currentId:"",currentArr:[],childItems:null,childsItems:null,iKey:"",reFresh:!0}},mounted:function(){this.Items.sfbx&&"1"===this.Items.sfbx&&!this.currentId&&this.$store.commit("addTosReqireds",{key:this.keys,pid:this.Items.id,name:this.Items.name})},computed:{_class:function(){return"1"===this.Items.sfbx?"title reqired":"title"}},methods:{addToCurrentArr:function(e,t){var n=this;this.iKey="".concat(this.keys,"#!").concat(t),this.currentArr.includes(e)?(this.$store.commit("removeKeys",{key:this.iKey}),this.currentArr=this.currentArr.filter(function(t){return t!==e})):this.currentArr.push(e),this.currentArr.length>0&&"1"===this.Items.sfbx&&this.$store.commit("changesReq",{key:this.keys,pid:this.Items.id});var i=[];this.currentArr.map(function(e){var s=n.getCurrentItmes(e,t);i=[].concat(r()(i),r()(s))}),this.childsItems=i},getCurrentItmes:function(e,t){var n=this,i=[];return this.Items.childs.map(function(t){if(e===t.id&&(t.hasOwnProperty("data")&&n.$store.commit("addToMaterials",{key:n.iKey,value:t.data,type:1}),t.childs.length>0)){i=t.childs;var r=t.childs.reduce(function(e,t){return t.hasOwnProperty("data")&&e.push(t.data),e},[]);r.length>0&&n.$store.commit("addToMaterials",{key:n.iKey,value:r,type:1})}}),i},isEnd:function(){"1"===this.childItems.sfzz?(this.$alert({head:"注意",msg:"该条件不允许申请"}),this.$store.commit("s_changeEnd",{key:this.keys,value:!0})):this.$store.commit("s_changeEnd",{key:this.keys,value:!1})},getMaterials:function(e){if(this.childItems=this.Items.childs.find(function(t){return t.id===e}),this.childItems)if(this.isEnd(),this.childItems.hasOwnProperty("data"))this.$store.commit("addToMaterials",{key:this.keys,value:this.childItems.data});else{if(this.childItems.childs.length>0){var t=this.childItems.childs.reduce(function(e,t){return t.hasOwnProperty("data")&&e.push(t.data),e},[]);if(t.length>0)return void this.$store.commit("addToMaterials",{key:this.keys,value:t})}this.$store.commit("removeMaterials",{key:this.keys})}},reFreshChilds:function(){var e=this;this.reFresh=!1,this.$nextTick(function(){e.reFresh=!0})},hasReqired:function(e){e&&"1"===this.Items.sfbx&&this.$store.commit("changesReq",{key:this.keys,pid:this.Items.id,name:this.Items.name})}},watch:{currentId:function(e,t){e&&(this.hasReqired(e),t&&e!==t&&this.reFreshChilds(),this.getMaterials(e))}}},a=(n("4BKs"),n("KHd+")),o=Object(a.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dgSituation"},[e.reFresh&&"1"===e.Items.sjlx?n("div",{staticClass:"sjlx1"},[n("p",{class:e._class},[e._v(e._s(e.Items.name))]),"0"===e.Items.sfdx?n("div",{staticClass:"sfdx"},e._l(e.Items.childs,function(t,i){return n("div",{key:i,staticClass:"situation-item"},[n("gd-radio",{staticClass:"choice",attrs:{value:t.id},model:{value:e.currentId,callback:function(t){e.currentId=t},expression:"currentId"}},[e._v(e._s(t.name))])],1)}),0):e._e(),"1"===e.Items.sfdx?n("div",{staticClass:"sfdx"},e._l(e.Items.childs,function(t,i){return n("div",{key:i,staticClass:"situation-item"},[n("gd-checkbox",{staticClass:"choice",attrs:{value:t.id},on:{change:function(n){return e.addToCurrentArr(t.id,i)}}},[e._v(e._s(t.name))])],1)}),0):e._e()]):e._e(),e.childItems&&e.reFresh?n("div",e._l(e.childItems.childs,function(t,i){return n("div",{key:i,staticClass:"situation-item",style:t.data?"display: none;":""},[n("dg-situation",{attrs:{Items:t,keys:e.keys+"x"+i}})],1)}),0):e._e(),e.childsItems&&e.reFresh?n("div",e._l(e.childsItems,function(t,i){return n("div",{key:i,staticClass:"situation-item"},[n("dg-situation",{attrs:{Items:t,keys:e.keys+"#!"+i}})],1)}),0):e._e()])},[],!1,null,null,null);t.a=o.exports},ctIS:function(e,t,n){},dRp0:function(e,t,n){"use strict";var i=n("lSNA"),r=n.n(i),s=n("lwsE"),a=n.n(s),o=n("W8MJ"),c=n.n(o),u=n("vDqi"),l=n.n(u),d=n("o75L"),h=n("Ub41"),f=n("+eJb"),m=n("yWgo"),p=n("FVIv"),v=n("+s51");var g={102:function(){v.a.index!==v.a.currentUrl&&Object(p.a)({head:"操作失败",msg:"您当前未登录或登录已过期",btnOkText:"去登录",onOkClick:function(){window.location.href=v.a.gdGovLogin}})},103:function(){Object(p.a)({head:"操作失败",msg:"您已办理过相关业务",btnOkText:"我知道了",onOkClick:function(){window.location.href=v.a.index}})}};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}h.a&&console.log("http baseUrl: ",d.a.baseUrl);var k=l.a.create({baseURL:d.a.baseUrl,method:"POST"}),O=k.interceptors.request.use(function(e){return h.a&&console.log("http request =>",e),e}),w=k.interceptors.response.use(function(e){h.a&&console.log("http response =>",e);var t=e.data;return t&&t.code&&g.hasOwnProperty(t.code)&&g[t.code](),e}),I=function(){function e(){a()(this,e)}return c()(e,null,[{key:"getMethodData",value:function(e){var t=(e.method||"POST").toUpperCase();return"GET"===t?{method:"GET",params:e.data||{}}:{method:t,data:e.data||{}}}},{key:"getHeader",value:function(e){var t=e.header||{};return"GET"===e.method.toUpperCase()?t:(t.hasOwnProperty("Content-Type")||e.hasOwnProperty("content-type")||(t["content-type"]="application/json"),t)}},{key:"request",value:function(t){var n=t.url,i=void 0===n?"":n,r=t.method,s=void 0===r?"POST":r,a=t.data,o=void 0===a?{}:a,c=t.header,u=void 0===c?{}:c,l=t.extranet,d=void 0!==l&&l,h=t.timeout,m=void 0===h?3e4:h,p=t.ctx,v=t.showLoading,g={url:i,method:s,data:o,header:u,extranet:d,timeout:m,ctx:p,showLoading:void 0===v||v};if(console.dev("request url ==>",i),!1===g.extranet){var y=p?p.$dgRouter:e.router;if(!1===Object(f.a)(g.url,y))return Promise.reject({err:"no login"})}var I=g.ctx||null;return g&&!g.url?(console.dev("url is must!"),Promise.reject({url:"is must"})):(k.defaults.timeout=g.timeout||3e4,g&&!0===g.extranet&&(k.defaults.baseURL="",k.interceptors.response.eject(w),k.interceptors.request.eject(O)),g=b({},g=b({},g,{},e.getMethodData(g)),{},e.getHeader(g)),console.dev("http request start!"),console.dev(I,g.showLoading),I&&g.showLoading&&I.$loading.show(),k(g).then(function(e){return I&&g.showLoading&&I.$loading.hide(),Promise.resolve(e.data)}).catch(function(e){return I&&g.showLoading&&I.$loading.hide(),Promise.reject(e)}))}}]),e}();I.router=Object(m.d)();t.a=I},f2I4:function(e,t,n){},hlQx:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var i=n("lwsE"),r=n.n(i),s=n("W8MJ"),a=n.n(s),o=n("dRp0"),c=n("o75L"),u=n("yWgo"),l=function(){function e(){r()(this,e)}return a()(e,null,[{key:"findUserInfoByToken",value:function(e,t){console.dev("ctx",t);var n=Object(u.c)({tokenCode:e},!1);return o.a.request({url:c.a.findUserInfoByToken,data:n,header:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},ctx:t})}},{key:"findAllByUseridcode",value:function(e){return o.a.request({url:c.a.findAllByUseridcode,data:e})}}]),e}()},o6Wo:function(e,t,n){"use strict";var i=n("lwsE"),r=n.n(i),s=n("W8MJ"),a=n.n(s),o=new(n("Kw5r").default),c=function(){function e(){r()(this,e)}return a()(e,null,[{key:"setUserInfo",value:function(){o.$emit("setUserInfo")}},{key:"onSetUserInfo",value:function(e){o.$on("setUserInfo",function(){e(),o.$off("setUserInfo")})}}]),e}();t.a=c},o75L:function(e,t,n){"use strict";var i=n("Ub41").a?"http://192.168.1.106:7005/":"http://127.0.0.1:7005/";t.a={getResult:"business/finishBusiness",getFiles:"inspection/getInspection",baseUrl:i,getAllOnethingList:"getAllOnethingList",findAllByUseridcode:"business/findAllByUseridcode",findUserInfoByToken:"findUserInfoByToken",addSelf:"datum/addSelf",addDatum:"datum/addDatum",backDatum:"datum/backDatum",getPage:"page/getPage",tpdownloadFile:"tpdownloadFile",downloadFile:"downloadFile",fileDelete:"file/delete",addHousehold:"household/addHousehold",getOnethingItem:"getOnethingItem",listLastSituationItemInfo:"listLastSituationItemInfo",fileload:"file/fileload",infomsg:"business/findDetailByBusinessCode"}},sEwH:function(e,t,n){"use strict";var i=n("7qKF");n.n(i).a},"sis/":function(e,t,n){},sxsh:function(e,t,n){e.exports=n.p+"images/empty.27ba63e9.png"},yWgo:function(e,t,n){"use strict";n.d(t,"g",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return p}),n.d(t,"f",function(){return g}),n.d(t,"b",function(){return y}),n.d(t,"d",function(){return k}),n.d(t,"c",function(){return b}),n.d(t,"h",function(){return O});var i=n("lSNA"),r=n.n(i),s=n("cDf5"),a=n.n(s),o=n("wZgz"),c=n.n(o),u=n("+NVA"),l=n.n(u),d=n("Ub41");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}var f=function(){var e=localStorage.getItem("timingStoreKeys"),t=e=e?JSON.parse(e):{timingStoreKeys:[]};if(0!==t.timingStoreKeys.length){var n=(new Date).getTime(),i=t.timingStoreKeys;i.map(function(e){var t=localStorage.getItem(e)||"";if(t){try{t=JSON.parse(t)}catch(t){console.warn(t),localStorage.removeItem(e);var r=i.filter(function(t){return t!==e});return void localStorage.setItem("timingStoreKeys",JSON.stringify({timingStoreKeys:r}))}if(t.timeOut<n){localStorage.removeItem(e);var s=i.filter(function(t){return t!==e});localStorage.setItem("timingStoreKeys",JSON.stringify({timingStoreKeys:s}))}}})}},m=function(e,t,n){f();var i=(new Date).getTime();"object"===a()(t)&&(t={value:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach(function(t){r()(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t),timeOut:i+6e4*n}),"string"==typeof t&&(t={value:t,timeOut:i+6e4*n});var s=localStorage.getItem("timingStoreKeys"),o=s=s?JSON.parse(s):{timingStoreKeys:[]},c="timingStore".concat(e);return o.timingStoreKeys.includes(c)||(o.timingStoreKeys.push(c),localStorage.setItem("timingStoreKeys",JSON.stringify(o))),localStorage.setItem(c,JSON.stringify(t)),!0},p=function(e){f();var t=JSON.parse(localStorage.getItem("timingStore".concat(e)));return t?t.value:null},v="AES20191223USERINFO",g=function(e,t){return e=JSON.stringify(e),e=c.a.encrypt(e,v).toString(),m("dgyjs-user",e,t||120)},y=function(){var e=p("dgyjs-user");return e?(e=c.a.decrypt(e.toString(),v),e=JSON.parse(e.toString(l.a))):null},b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",i=Object.keys(e);if(i.length>0){var r=new RegExp(/[\u4e00-\u9fa5]/);n=i.reduce(function(t,n){return r.test(n)&&(n=encodeURI(n)),r.test(e[n])&&(e[n]=encodeURI(e[n])),t=t?"".concat(t,"&").concat(n,"=").concat(e[n]):"".concat(n,"=").concat(e[n])},"")}return t&&n&&(n="?".concat(n)),n},k=function(){var e=window.location.href,t=new RegExp(/^(?:[^?]*\?)?([\w\d\-\/=&%].+)/).exec(e);if(!t)return{};var n,i;return{params:(t=t.pop()).split("&").reduce(function(e,t){return t.includes("=")?(t=decodeURIComponent(t).split("="),n=t.shift(),void 0!=(i=t.join("="))&&(i=i.replace("+"," "))):(n=decodeURIComponent(t),i=void 0),e[n]=i,e},{}),to:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=window.location.origin;return n?(e=d.a?"".concat(i,"/local/").concat(e,".html").concat(b(t)):"".concat(i,"/").concat(e,".html").concat(b(t)),void(window.location.href=e)):void(window.location.href=e)},back:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.history.back(-1):window.history.go(-1)},redirect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=window.location.origin;return n?(e=d.a?"".concat(i,"/local/").concat(e,".html").concat(b(t)):"".concat(i,"/").concat(e,".html").concat(b(t)),void window.location.replace(e)):void window.location.replace(e)},open:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=window.location.origin;return n?(e=d.a?"".concat(i,"/local/").concat(e,".html").concat(b(t)):"".concat(i,"/").concat(e,".html").concat(b(t)),void window.open(e)):void window.open(e)}}};function O(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdefg".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdefg".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}},zzwz:function(e,t,n){"use strict";var i=n("sis/");n.n(i).a}},[[5,1,0]]]);